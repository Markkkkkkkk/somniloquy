---
category: [åšå®¢å»ºç«™]
tag: [æœåŠ¡å™¨è®¾ç½®,Fail2ban,ç½‘ç«™å®‰å…¨,wordfence]
postType: post
status: publish
---

# æœåŠ¡å™¨å¯†é’¥ç™»é™†

æœåŠ¡å™¨è¿™é‡Œä»¥Ubuntuä¸ºä¾‹ï¼Œcentosæˆ–å…¶ä»–ç‰ˆæœ¬çš„LinuxæœåŠ¡å™¨è¯·è‡ªè¡ŒGPTå“ˆã€‚

é¦–å…ˆåœ¨ä½ çš„æœ¬åœ°windowæœºå™¨ ä¸Šï¼Œè¿›å…¥cmdå‘½ä»¤è¡Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç”Ÿæˆ SSH å¯†é’¥å¯¹ï¼š

```shell
ssh-keygen -t rsa -b 4096 -C "your_email@example.com"
```

è¿™å°†ä¼šç”Ÿæˆä¸€ä¸ª RSA ç±»å‹çš„å¯†é’¥å¯¹ï¼Œé•¿åº¦ä¸º 4096 ä½ã€‚ä½ å¯ä»¥æŒ‰æç¤ºé€‰æ‹©ä¿å­˜å¯†é’¥çš„ä½ç½®å’Œè®¾ç½®å¯†ç ã€‚é»˜è®¤ä½ç½®åœ¨`C:\Users\ä½ çš„windowè´¦æˆ·å\.ssh\id_rsa.pub`ç„¶åå°†ç”Ÿæˆçš„å¯†é’¥æ–‡ä»¶å†…å®¹ç²˜è´´åˆ°æœåŠ¡å™¨`~/.ssh/authorized_keys`è¿™ä¸ªç›®å½•ä¸‹ã€‚ç„¶åä¿®æ”¹æ–‡ä»¶æƒé™ï¼š

```shell
chmod 700 ~/.ssh  
chmod 600 ~/.ssh/authorized_keys
```

æ¥ä¸‹æ¥é…ç½®SSH åªå…è®¸å¯†é’¥ç™»å½•ï¼Œç™»å½•åˆ°ä½ çš„ Ubuntu æœåŠ¡å™¨ï¼Œç¼–è¾‘ SSH é…ç½®æ–‡ä»¶ï¼š

```shell
sudo nano /etc/ssh/sshd_config
```

æ‰¾åˆ°å¹¶ä¿®æ”¹ä»¥ä¸‹å‡ è¡Œï¼ˆå¦‚æœæ²¡æœ‰è¿™äº›è¡Œï¼Œæ‰‹åŠ¨æ·»åŠ ï¼‰ï¼š

```shell
PasswordAuthentication no
ChallengeResponseAuthentication no
UsePAM no
```

- PasswordAuthentication noï¼šç¦ç”¨å¯†ç è®¤è¯

- ChallengeResponseAuthentication noï¼šç¦ç”¨æŒ‘æˆ˜-å“åº”è®¤è¯

- UsePAM noï¼šç¦ç”¨åŸºäº PAM çš„è®¤è¯

ä¿®æ”¹é…ç½®åï¼Œé‡å¯ SSH æœåŠ¡ä½¿æ›´æ”¹ç”Ÿæ•ˆï¼š

```
sudo systemctl restart ssh
```

åœ¨æœ¬åœ°windowç”µè„‘ä¸Šä½ å¯ä»¥å°è¯•ç”¨SSHå·¥å…·å¯†ç ç™»å½•æœåŠ¡å™¨ï¼Œæç¤ºæ˜¯è¢«æ‹’ç»çš„ï¼Œç™»å½•æ–¹å¼é€‰æ‹©å¯†é’¥ç™»å½•åˆ™æ˜¯å¯ä»¥çš„ï¼Œå¯†é’¥æ–‡ä»¶åœ¨ä½ æœ¬åœ°ç”µè„‘çš„`C:\Users\ä½ çš„windowè´¦æˆ·å\.ssh\id_rsa`æ–‡ä»¶å†…ï¼Œè¿™æ ·å¾ˆå¤§ç¨‹åº¦ä¸Šèƒ½é˜²æ­¢åˆ«äººå¯†ç çˆ†ç ´ã€‚

# Fail2banè®¾ç½®

Fail2Ban æ˜¯ä¸€ç§ç”¨äº Linux ç³»ç»Ÿçš„å®‰å…¨å·¥å…·ï¼Œå®ƒé€šè¿‡ç›‘æ§ç³»ç»Ÿæ—¥å¿—æ–‡ä»¶æ¥é˜²æ­¢æš´åŠ›ç ´è§£æ”»å‡»ï¼Œå¹¶æ ¹æ®ç‰¹å®šçš„è§„åˆ™å°ç¦å¯ç–‘çš„ IP åœ°å€ã€‚è¿™é‡Œè¿˜æ˜¯ä»¥Ubuntuä¸ºä¾‹ï¼Œé¦–å…ˆå®‰è£…Faile2banã€‚

```shell
sudo apt update
sudo apt install fail2ban -y
```

å¯åŠ¨å¹¶è®¾ç½®å¼€æœºè‡ªå¯

```shell
sudo systemctl enable fail2ban
sudo systemctl start fail2ban
```

æŸ¥çœ‹çŠ¶æ€ï¼š

```
sudo systemctl status fail2ban
```

å¦‚æœæ˜¾ç¤ºä¸ºactiveåˆ™Fail2banå°±å®‰è£…å¥½äº†ï¼Œå®‰è£…ä¸å¤æ‚ï¼Œæ¥ä¸‹æ¥ä¸»è¦æ˜¯é…ç½®ä¸€äº›è§„åˆ™

## é˜²æ­¢wordpressç™»å½•æš´åŠ›ç ´è§£è§„åˆ™

æ‰“å¼€`/etc/fail2ban/jail.conf`ç›®å½•ä¸‹çš„è¿™ä¸ªæ–‡ä»¶ï¼Œåœ¨ç©ºç™½å¤„æ·»åŠ ï¼š

```
[wordpress-auth]
enabled = true
filter = wordpress-auth
port = http,https
# nginxæ—¥å¿—ä½ç½®ï¼Œæ ¹æ®è‡ªå·±å®é™…ç›®å½•ä¿®æ”¹ã€‚
logpath = /usr/apps/blog/nginx/logs/access.log
# å¤±è´¥æ¬¡æ•°
maxretry = 5
# åœ¨å¤šé•¿æ—¶é—´å†…å¤±è´¥
findtime = 600
# åœ¨600ç§’ä¹‹å†…å¤±è´¥è¶…è¿‡äº”æ¬¡åˆ™å°ç¦åå°æ—¶ã€‚
bantime = 36000
```

å…¶æ¬¡åœ¨`/etc/fail2ban/filter.d`åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹è¾¹æ–°å»ºæ–‡ä»¶`wordpress-auth.conf`ï¼Œå†…å®¹ä¸ºï¼š

```
[Definition]
failregex = ^<HOST> .* "POST /wp-login.php HTTP.*" 200
            ^<HOST> .* "POST /wp-login.php HTTP.*" 403
            # ä¸‹è¾¹ä¸¤ä¸ªå› ä¸ºwordpressä½¿ç”¨äº†WPSéšè—ç™»å½•æ’ä»¶ä¿®æ”¹äº†ç™»å½•æ¥å£ï¼Œæ‰€ä»¥ä¿®æ”¹åçš„åœ°å€ä¹Ÿæ·»åŠ è¿›å»ã€‚
            ^<HOST> .* "POST /iloveyou HTTP.*" 200
            ^<HOST> .* "POST /iloveyou HTTP.*" 403
ignoreregex =

```

ä»–çš„åŸç†å…¶å®å°±æ˜¯æ ¹æ®nginxè®¿é—®æ—¥å¿—ï¼Œç»Ÿè®¡IPç‰¹å®šURLå¤±è´¥çš„æ¬¡æ•°ï¼Œç„¶åæŠŠç¬¦åˆæ¡ä»¶çš„IPæ·»åŠ åˆ°å°ç¦åˆ—è¡¨ã€‚è¿™æ ·å°±èƒ½é˜²æ­¢åˆ«äººæš´åŠ›ç ´è§£ç™»å½•åå°äº†ã€‚

## é˜²æ­¢XML-RPC æœåŠ¡æš´åŠ›ç ´è§£è§„åˆ™

XML-RPC æ˜¯ä¸€ç§ç”¨äºè¿œç¨‹é€šä¿¡çš„åè®®ï¼Œåœ¨ WordPress ä¸­ç”¨äºå¤–éƒ¨åº”ç”¨ç¨‹åºè¿›è¡Œè®¿é—®å’Œç®¡ç†ã€‚ç®€å•æ¥è¯´å°±æ˜¯ç”¨APIæ¥å£ç›´æ¥æ“ä½œwordpresså†…å®¹ï¼Œæ¯”æ–¹è¯´å‘å¸ƒå¢åˆ æ”¹æŸ¥æ–‡ç« ç­‰ã€‚

æ‰“å¼€`/etc/fail2ban/jail.conf`ç›®å½•ä¸‹çš„è¿™ä¸ªæ–‡ä»¶ï¼Œåœ¨ç©ºç™½å¤„æ·»åŠ ï¼š

```
[wordpress-xmlrpc]
enabled = true
filter = wordpress-xmlrpc
port = http,https
logpath = /usr/apps/blog/nginx/logs/access.log
maxretry = 5
findtime = 600
bantime = 36000
```

å…¶æ¬¡åœ¨`/etc/fail2ban/filter.d`åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹è¾¹æ–°å»ºæ–‡ä»¶`wordpress-xmlrpc.conf`ï¼Œå†…å®¹ä¸ºï¼š

```
[Definition]
failregex = ^<HOST> .*POST /xmlrpc.php HTTP.*$
ignoreregex =
```

## é˜²æ­¢æœåŠ¡å™¨SSHæš´åŠ›ç ´è§£ç™»å½•è§„åˆ™

åœ¨`/etc/fail2ban/jail.conf`åœ¨è¿™ä¸ªé…ç½®æ–‡ä»¶é‡Œæ‰¾åˆ°`[ssh]`è¿™ä¸ªé…ç½®ï¼Œåˆå§‹å®‰è£…çš„è¿™ä¸ªé…ç½®æ˜¯è‡ªå¸¦æœ‰çš„ä½†æ˜¯è¿˜è¦åŠ ä¸€ç‚¹ä¸œè¥¿ã€‚å¤§å®¶å¯ä»¥æ ¹æ®å·²æœ‰çš„è·Ÿä¸‹è¾¹çš„å¯¹ç…§ä¸€ä¸‹ã€‚è¿™ä¸ªè§„åˆ™æ˜¯é˜²æ­¢æœåŠ¡å™¨è¢«åˆ«äººSSHæš´åŠ›ç ´è§£çš„è§„åˆ™ã€‚

```
[sshd]
enabled=true
port    = ssh
filter  = sshd
logpath = %(sshd_log)s
backend = %(sshd_backend)s
# æ·»åŠ çš„å†…å®¹
maxretry=5
findtime = 600
bantime=18000
action = %(action_)s
         log-ban-history
```

## é˜²å¾¡æ‰«æå‹æ”»å‡»è§„åˆ™

è¿™ç§è§„åˆ™ç”¨æ¥é˜²å¾¡â€œæ‰«æå‹æ”»å‡»â€ã€‚æ”»å‡»è€…ä¼šä¸åœåœ°è®¿é—®ä½ ç«™ç‚¹ä¸Šå¹¶ä¸å­˜åœ¨çš„è·¯å¾„ï¼ˆæ¯”å¦‚ `/phpmyadmin/ã€/wp-admin/install.phpã€/xxx.php`ï¼‰ï¼Œé€šè¿‡ä¸æ–­è¯•æ¢ 404 é”™è¯¯é¡µé¢æ¥å¯»æ‰¾æ¼æ´æˆ–æ•æ„Ÿæ–‡ä»¶ã€‚Fail2Ban å°±ä¼šæ£€æµ‹åˆ°æŸä¸ª IP åœ¨çŸ­æ—¶é—´å†…åˆ¶é€ å¤§é‡ 404ï¼Œåˆ¤æ–­å®ƒæ˜¯æ¶æ„æ‰«æï¼Œä»è€Œä¸´æ—¶å°ç¦å®ƒã€‚

æ‰“å¼€`/etc/fail2ban/jail.conf`ç›®å½•ä¸‹çš„è¿™ä¸ªæ–‡ä»¶ï¼Œåœ¨ç©ºç™½å¤„æ·»åŠ ï¼š

```
[nginx-404]
enabled = true
port = http,https
filter = nginx-404
logpath = /usr/apps/blog/nginx/logs/access.log
maxretry = 10
findtime = 600
bantime = 3600
```

å…¶æ¬¡åœ¨`/etc/fail2ban/filter.d`åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹è¾¹æ–°å»ºæ–‡ä»¶`nginx-404.conf`ï¼Œå†…å®¹ä¸ºï¼š

```
[Definition]
failregex = ^<HOST> -.*"(GET|POST).*(HTTP).*" 404
ignoreregex =
```

å¤§å®¶é…ç½®å¥½ä¹‹ååˆ«å¿˜äº†æœ€åå†é‡å¯ä¸‹Fail2banï¼Œè®©è§„åˆ™ç”Ÿæ•ˆã€‚ä¹Ÿå¯ä»¥æŸ¥çœ‹è‡ªå·±å“ªäº›è§„åˆ™ç”Ÿæ•ˆå’Œè¿‡ä¸€æ®µæ—¶é—´ä¹‹åæŸ¥çœ‹å°ç¦äº†å“ªäº›IPã€‚

```
# é‡å¯å‘½ä»¤
sudo systemctl restart fail2ban
# æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
sudo systemctl status fail2ban
# æŸ¥çœ‹æœ‰å“ªäº›è§„åˆ™ç”Ÿæ•ˆ
sudo fail2ban-client status
# æŸ¥çœ‹å…·ä½“æŸä¸ªè§„åˆ™çš„çŠ¶æ€å’Œå¯¹åº”å°ç¦çš„IP
sudo fail2ban-client status nginx-404
# è§£å°æŸä¸ªIP
sudo fail2ban-client set nginx-404 unbanip 192.168.1.100
```

# Wordfence Security

Wordfence æ˜¯ä¸€ä¸ªå¾ˆå—æ¬¢è¿çš„ WordPress å®‰å…¨æ’ä»¶ï¼Œä»–èƒ½ä¿æŠ¤ä½ çš„ WordPress ç½‘ç«™å…å—å„ç§å®‰å…¨å¨èƒï¼ŒåŒ…æ‹¬ æ¶æ„æ”»å‡»ã€æš´åŠ›ç ´è§£ã€ç—…æ¯’ã€æœ¨é©¬ã€SQL æ³¨å…¥ç­‰å¸¸è§æ”»å‡»ã€‚

å®ƒæä¾›äº† é˜²ç«å¢™ä¿æŠ¤ã€æ¶æ„è½¯ä»¶æ‰«æã€ç™»å½•å®‰å…¨ã€å®æ—¶æµé‡ç›‘æ§ç­‰å¤šç§åŠŸèƒ½ï¼Œç¡®ä¿ç½‘ç«™åœ¨é¢å¯¹ç½‘ç»œæ”»å‡»æ—¶èƒ½å¤ŸåŠæ—¶é˜»æ­¢ã€‚å…¶ç‰¹ç‚¹åŒ…æ‹¬å®æ—¶ IP å°ç¦ã€æ”»å‡»é˜²å¾¡ã€æ—¥å¿—è®°å½•ç­‰ã€‚

## å®‰è£…

åœ¨wordpressæ’ä»¶å®‰è£…é¡µé¢ç›´æ¥æœç´¢å®‰è£…å¯ç”¨å°±å¯ä»¥äº†ï¼Œè®°å¾—å¯ç”¨è‡ªåŠ¨æ›´æ–°ï¼Œå› ä¸ºæ˜¯å®‰å…¨ç±»è½¯ä»¶ï¼Œæœ€å¥½æ˜¯åŠæ—¶æ›´æ–°æ¯”è¾ƒå¥½ã€‚

![image-20220429094431972](https://image.hyly.net/i/2025/08/18/20be19d56de7a932c78d14794869880d-0.webp)

åˆå§‹åŒ–æ—¶ä¼šè¦æ±‚è¾“å…¥ä¸€ä¸ªé‚®ç®±ï¼Œå¹³æ—¶ç”¨æ¥å‘é€å®‰å…¨ç›¸å…³ä¿¡æ¯ã€‚å¡«ä¸€ä¸ªå¸¸ç”¨é‚®ç®±å³å¯ã€‚

![image-20220429094910185](https://image.hyly.net/i/2025/08/18/090785e175e9b5d402a80e3072c66242-0.webp)

ä¸€èˆ¬æ’ä»¶éƒ½ä¼šé—®ä½ è¦ä¸è¦è´­ä¹°é«˜çº§ç‰ˆã€‚æˆ‘ä»¬ç›´æ¥è°¢è°¢å³å¯ã€‚å…è´¹ç‰ˆå·²ç»å¤Ÿç”¨ï¼Œå¦‚æœä¸å¤Ÿç”¨äº†å†ä¹°ä¹Ÿä¸è¿Ÿã€‚

![image-20220429095039236](https://image.hyly.net/i/2025/08/18/39c371216be24d28d529225386120964-0.webp)

ä¸€èˆ¬æ˜¯é€šè¿‡å·¦ä¾§èœå•æ è¿›å…¥è®¾ç½®wordfenceçš„ï¼š

![image-20220429095254328](https://image.hyly.net/i/2025/08/18/e1fd542c796e6f48ee9f4d246a113365-0.webp)

## å…¨å±€é€‰é¡¹

å…¨å±€é€‰é¡¹å¤§å®¶å¯ä»¥å‚è€ƒæˆ‘çš„é…ç½®ï¼Œå¯ä»¥ä»è¿™é‡Œè¿›å…¥ï¼š

![image-20220429095752599](https://image.hyly.net/i/2025/08/18/dcc19c1240c59d50e2af709f63ad40fb-0.webp)

è¯¦ç»†çš„é…ç½®å¦‚ä¸‹ï¼š

![image-20250818185106784](https://image.hyly.net/i/2025/08/18/38e65ee78e36fce9c870efacd7ac13a7-0.webp)

1. **è®¸å¯è¯ï¼š**å°±ç®—æ˜¯å…è´¹ç‰ˆï¼Œä¹Ÿæ˜¯è¦æ³¨å†Œä¸€ä¸ªè´¦å·è·å–è®¸å¯è¯çš„ï¼Œç„¶åæŠŠè®¸å¯è¯å¯†é’¥å¡«å…¥åˆ°å¯¹åº”æ¡†å°±å¯ä»¥äº†ã€‚
2. **å½“æœ‰ç®¡ç†å‘˜æƒé™çš„äººç™»å½•æ—¶æé†’æˆ‘ï¼š**è¿™ä¸ªå…³æ‰å°±å¯ä»¥äº†ï¼Œè¦ä¸ç„¶æ¯æ¬¡ç™»å½•çš„æ—¶å€™éƒ½ä¼šå‘é€ä¸€å°é‚®ä»¶ï¼ŒæŒºçƒ¦äººçš„ï¼Œåªéœ€è¦å¼€å¯**ä»…åœ¨ç®¡ç†å‘˜ä»æ–°è®¾å¤‡æˆ–ä½ç½®ç™»å½•æ—¶æé†’æˆ‘**å°±å¯ä»¥äº†ã€‚

## é˜²ç«å¢™è®¾ç½®

å…¥å£ä»è¿™é‡Œè¿›å…¥ã€‚

![image-20250818190005387](https://image.hyly.net/i/2025/08/18/1e2b17229990a1571397052e9866a8d2-0.webp)

è¿™æ˜¯æˆ‘æ‰€æœ‰çš„é…ç½®ï¼Œå¤§å®¶å¯ä»¥å‚ç…§é…ç½®ã€‚

1. **å¼ºåŠ›ä¿æŠ¤ï¼š**è¿™é‡Œä¹Ÿé’ˆå¯¹ç½‘ç«™ç™»å½•åšäº†ä¸€å®šé˜²æŠ¤ï¼Œå¯ä»¥ä¸Fail2banç»“åˆå¢å¼ºé˜²æŠ¤ï¼Œè™½ç„¶æœ‰äº›æœ‰é‡å¤çš„åœ°æ–¹ã€‚
2. **é™é€Ÿï¼š**é™é€Ÿè¿™é‡Œåˆ™å¯¹äººç±»å’Œçˆ¬è™«é¢‘ç¹è®¿é—®è¡Œä¸ºåšäº†ä¸€å®šé™åˆ¶ã€‚

![image-20250818190404160](https://image.hyly.net/i/2025/08/18/538930e947d8e834fc9e8c1241ed22e3-0.webp)

### æ‹¦æˆª

å…¶ä¸­åœ¨é˜²ç«å¢™è®¾ç½®é‡Œèƒ½æŸ¥çœ‹è¢«é˜»æ­¢çš„IPéƒ½æœ‰å“ªäº›ï¼Œå¯ä»¥æ ¹æ®é˜»æ­¢æ¬¡æ•°è¾ƒå¤šçš„IPæ‰‹åŠ¨è®¾ç½®æ‹¦æˆªï¼Œè¿™æ ·å°±èƒ½æ°¸ä¹…æ‹¦æˆªï¼Œä¸ä¼šèµ°é»˜è®¤çš„è§„åˆ™ï¼Œé»˜è®¤çš„è§„åˆ™æ˜¯ä¸€å®šæ—¶é—´å†…è¾¾åˆ°ä¸€å®šè®¿é—®æ¬¡æ•°æ‰ä¼šé˜»æ­¢ä¸€æ¬¡ï¼Œç®—ä¸€æ¬¡ã€‚

![image-20250818193716247](https://image.hyly.net/i/2025/08/18/419847ba94dbf94fb6be6e11922ac5fb-0.webp)

å¯ä»¥åœ¨æ‹¦æˆªè¿™é‡Œé€‰æ‹©IPåœ°å€è¿›è¡Œæ‰‹åŠ¨æ‹¦æˆªã€‚

![image-20250818193821760](https://image.hyly.net/i/2025/08/18/abd05f358157674b779d2b2dc89a1f39-0.webp)

## æ‰«æ

å¤§å®¶å¯ä»¥åœ¨è¿™é‡Œè¿›å…¥æ‰«æï¼Œæœ€åˆå®‰è£…çš„æ—¶å€™å¯ä»¥è¿›è¡Œä¸€æ¬¡æ‰«æï¼Œå‘ç°wordpressç½‘ç«™çš„é—®é¢˜ï¼Œç„¶åæ ¹æ®ä¸‹è¾¹çš„æ‰«æç»“æœè¿›è¡Œç›¸åº”çš„ä¿®å¤ï¼Œå› ä¸ºé—®é¢˜å¯èƒ½å¤šç§å¤šæ ·ï¼Œè¿™é‡Œå°±ä¸ä¸€ä¸€åˆ—ä¸¾äº†ï¼Œä¸çŸ¥é“å¦‚ä½•ä¿®å¤æˆ–è€…è¦ä¸è¦ä¿®å¤çš„å°ä¼™ä¼´å¯ä»¥è‡ªè¡ŒGPTè§£å†³ã€‚

![image-20250818191037308](https://image.hyly.net/i/2025/08/18/f9fe73d7dd2ba84bb6842c1c57532c8c-0.webp)

## ç™»å½•å®‰å…¨æ€§

å¤§å®¶å¯ä»¥åœ¨ç™»å½•å®‰å…¨æ€§è¿™é‡Œè®¾ç½®åŒé‡èº«ä»½éªŒè¯ï¼Œè¿™æ ·å¤§å¤§å¢å¼ºç”¨æˆ·ç™»å½•çš„å®‰å…¨æ€§ï¼Œé˜²æ­¢åˆ«äººç™»å½•åå°æš´åŠ›ç ´è§£ï¼Œä½†æ˜¯æˆ‘å«Œéº»çƒ¦å°±å…ˆæ²¡è®¾ç½®ï¼Œä½†æ˜¯ç™»å½•å®‰å…¨æ€§->è®¾ç½®è¿™é‡Œæœ‰ä¸ªreCAPTCHAæˆ‘è§‰å¾—è¿˜æ˜¯æŒºå¥½çš„ï¼Œä»–çš„åŸç†å°±æ˜¯è°ƒç”¨è°·æ­ŒéªŒè¯ç ï¼Œå°±æ˜¯é‚£ç§éœ€è¦ç‚¹å‡»æˆ‘ä¸æ˜¯æœºå™¨äººçš„é‚£ç§éªŒè¯ç ï¼Œå¯¹ç”¨æˆ·å‹å¥½ä¸€ç‚¹ã€‚è¯¦ç»†çš„reCAPTCHAå¯†é’¥è·å–æ–¹æ³•åœ¨ä¸‹è¾¹çš„æ³¨æ„é“¾æ¥é‡Œï¼Œç‚¹è¿›å»ç™»å½•è°·æ­Œè´¦å·ä¸€æ­¥æ­¥è·å–å°±å¯ä»¥äº†ï¼Œç„¶åæŠŠå¯†é’¥å’ŒSecretå¡«åˆ°ä¸¤ä¸ªå¯¹è¯æ¡†é‡Œå°±å¯ä»¥ã€‚

![image-20250818194715731](https://image.hyly.net/i/2025/08/18/75bcd01912cfdc03752f04483a9781e0-0.webp)

è®¾ç½®å¥½ä¹‹åç™»é™†é¡µé¢å°±ä¼šå‡ºç°è¿™ä¸ªå›¾æ ‡ï¼Œå¦‚æœreCAPTCHAè§‰å¾—é¡µé¢è®¿é—®çš„äººæ˜¯äººç±»å°±ä¸ä¼šæœ‰éªŒè¯ç ï¼Œå¦‚æœæ˜¯æœºå™¨äººæˆ–è§‰å¾—è®¿é—®è€…ä¸å®‰å…¨å°±ä¼šå‡ºéªŒè¯ç æˆ–ç›´æ¥å‘é€é‚®ä»¶ï¼Œé‚®ä»¶é‡Œæœ‰ä¸€ä¸ªç™»é™†é“¾æ¥å¤åˆ¶åˆ°æµè§ˆå™¨å†æ¬¡ç™»å½•æ‰è¡Œï¼Œå¯ä»¥è¯´æ˜¯ç›¸å½“å®‰å…¨çš„äº†ã€‚reCAPTCHAè¿™é‡Œè¿˜å¯ä»¥è®¾ç½®é˜ˆå€¼åˆ†æ•°ï¼Œä¸€èˆ¬0.5å°±å¯ä»¥äº†ã€‚

![image-20250818200208812](https://image.hyly.net/i/2025/08/18/540fd5327907b25d9c26321d16ea57ad-0.webp) 



è‡³æ­¤ï¼ŒWordfence Securityå°±é…ç½®å®Œæˆå•¦~ å¦‚æœé‡åˆ°ç´§æ€¥é—®é¢˜çš„è¯ä»–ä¼šè‡ªåŠ¨å‘é‚®ä»¶æé†’çš„ï¼Œå¤§å®¶åœ¨å¹³æ—¶ä¹Ÿå¯ä»¥ç™»å½•åšå®¢åå°æŸ¥çœ‹æ—¥å¿—çœ‹æœ‰ä»€ä¹ˆé—®é¢˜æ²¡ã€‚

**TIPSï¼š**reCAPTCHAåªé’ˆå¯¹æ˜¯å›½å¤–æœåŠ¡å™¨çš„å°ä¼™ä¼´ï¼Œå¦‚æœæœåŠ¡å™¨æ˜¯å›½å†…çš„ï¼Œè®¾ç½®reCAPTCHAä¹‹ååœ¨ç™»å½•é¡µé¢ä¼šè°ƒè°·æ­Œæ¥å£ï¼Œåœ¨å›½å†…æœåŠ¡å™¨æ˜¯è®¿é—®ä¸é€šçš„ã€‚å›½å†…æœåŠ¡å™¨çš„å°ä¼™ä¼´å¯ä»¥ä½¿ç”¨`Captcha by BestWebSoft`æ’ä»¶ï¼Œåœ¨wordpressæ’ä»¶å¸‚åœºç›´æ¥æœç´¢å®‰è£…å°±å¯ä»¥ï¼Œä½¿ç”¨æ–¹å¼ä¹Ÿéå¸¸ç®€å•ï¼Œè¿›å»ç‚¹ç‚¹çœ‹å°±çŸ¥é“æ€ä¹ˆè®¾ç½®äº†ï¼Œè¿™é‡Œå°±ä¸å†å‡ºè¯¦ç»†æ•™ç¨‹äº†ã€‚

# WPS Hide Login

WPS Hide Login æ˜¯ WordPress çš„ä¸€ä¸ª å®‰å…¨ç±»æ’ä»¶ï¼Œå®ƒçš„ä½œç”¨å¾ˆç®€å•ï¼šä¿®æ”¹ WordPress é»˜è®¤çš„åå°ç™»å½•åœ°å€ï¼ˆ/wp-login.php å’Œ /wp-admin/ï¼‰

## ä¸ºä»€ä¹ˆè¦ä½¿ç”¨è¿™ä¸ªæ’ä»¶

**é»˜è®¤ç™»å½•åœ°å€æš´éœ²é£é™©å¤§**
 WordPress é»˜è®¤çš„åå°ç™»å½•åœ°å€æ˜¯ï¼š

- `https://example.com/wp-login.php`
- `https://example.com/wp-admin/`
   å‡ ä¹æ‰€æœ‰é»‘å®¢ã€çˆ¬è™«ã€çˆ†ç ´å·¥å…·éƒ½çŸ¥é“è¿™ä¸€ç‚¹ï¼Œæ‰€ä»¥ä¼šä¸æ–­å¯¹è¿™ä¸¤ä¸ªåœ°å€è¿›è¡Œæš´åŠ›ç ´è§£å°è¯•ã€‚

**æ’ä»¶çš„ä½œç”¨**
 `WPS Hide Login` å¯ä»¥æŠŠç™»å½•åœ°å€æ”¹æˆä¸€ä¸ªä½ è‡ªå®šä¹‰çš„è·¯å¾„ï¼Œæ¯”å¦‚ï¼š

- `https://example.com/my-secret-login`
   è¿™æ ·æ”»å‡»è€…è®¿é—® `/wp-login.php` æˆ– `/wp-admin/` æ—¶ï¼Œå°±ä¼šç›´æ¥è¿”å› **404 é¡µé¢**ï¼Œè€Œä¸ä¼šæš´éœ²åå°å…¥å£ã€‚

## ä½¿ç”¨

ä½¿ç”¨ä¹Ÿæ˜¯éå¸¸ç®€å•ï¼Œç›´æ¥æ’ä»¶å¸‚åœºæœç´¢å®‰è£…å¯ç”¨ï¼Œå…¥å£åœ¨è®¾ç½®é‡Œé¢ï¼š

![](https://image.hyly.net/i/2025/08/21/6dfdf329578e7ff390faafc71122a24a-0.webp)

ç„¶åä¿®æ”¹è‡ªå·±çš„ç™»å½•å…¥å£é“¾æ¥ä¿å­˜å°±å¯ä»¥äº†~

![image-20250821091931768](https://image.hyly.net/i/2025/08/21/8eb34c19dcc57f699a2edfda4b0692fd-0.webp)

# CloudFlare

Cloudflareæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª **å…¨çƒ CDN + ç½‘ç»œå®‰å…¨ + è¾¹ç¼˜è®¡ç®—å¹³å°**ã€‚å®ƒä½äºä½ çš„ç½‘ç«™/åº”ç”¨å’Œè®¿é—®ç”¨æˆ·ä¹‹é—´ï¼Œæ‰®æ¼”ä¸€ä¸ª **åå‘ä»£ç†** çš„è§’è‰²ã€‚

å¯ä»¥ç†è§£ä¸ºï¼š
 ğŸ‘‰ ç”¨æˆ·è®¿é—®ä½ çš„ç½‘ç«™æ—¶ï¼Œæµé‡å…ˆç»è¿‡ Cloudflareï¼Œå†ç”± Cloudflare è½¬å‘åˆ°ä½ çœŸå®çš„æœåŠ¡å™¨ã€‚
 è¿™æ ·å¯ä»¥å¸¦æ¥ **åŠ é€Ÿ** + **ä¿æŠ¤** çš„æ•ˆæœã€‚

## Cloudflare çš„æ ¸å¿ƒåŠŸèƒ½

1. **CDN åŠ é€Ÿï¼ˆå†…å®¹åˆ†å‘ç½‘ç»œï¼‰**

   - Cloudflare åœ¨å…¨çƒæœ‰ 300+ ä¸ªèŠ‚ç‚¹ï¼ˆæ•°æ®ä¸­å¿ƒï¼‰ï¼Œå®ƒä¼šç¼“å­˜ä½ ç½‘ç«™çš„é™æ€èµ„æºï¼ˆå›¾ç‰‡ã€JSã€CSS ç­‰ï¼‰ã€‚

   - ç”¨æˆ·è®¿é—®æ—¶ï¼Œå°±è¿‘ä»æœ€è¿‘çš„ Cloudflare èŠ‚ç‚¹è·å–èµ„æº â†’ åŠ è½½æ›´å¿«ï¼Œé™ä½å»¶è¿Ÿã€‚


2. **ç½‘ç«™é˜²æŠ¤ï¼ˆå®‰å…¨é˜²å¾¡ï¼‰**

   - **DDoS é˜²æŠ¤**ï¼šæ‹¦æˆªæµ·é‡æ¶æ„æµé‡ï¼Œä¿æŠ¤æœåŠ¡å™¨ä¸è¢«æ‰“æ­»ã€‚

   - **WAFï¼ˆWeb åº”ç”¨é˜²ç«å¢™ï¼‰**ï¼šé˜»æ­¢ SQL æ³¨å…¥ã€XSS ç­‰å¸¸è§æ”»å‡»ã€‚

   - **Bot ç®¡ç†**ï¼šè¯†åˆ«å¹¶é˜»æŒ¡æ¶æ„çˆ¬è™«ã€çˆ†ç ´å·¥å…·ã€‚

   - **éšè—çœŸå® IP**ï¼šæ”»å‡»è€…åªèƒ½çœ‹åˆ° Cloudflare çš„ IPï¼Œçœ‹ä¸åˆ°ä½ çš„æºç«™ IPã€‚


3. **æ™ºèƒ½è·¯ç”±ä¸ä¼˜åŒ–**

   - Cloudflare ä¼šè‡ªåŠ¨é€‰æ‹©æœ€å¿«çš„ç½‘ç»œè·¯å¾„ï¼ŒæŠŠæµé‡ä»ç”¨æˆ·ä¼ åˆ°æºç«™ã€‚

   - æ”¯æŒ **å‹ç¼©ã€è‡ªåŠ¨ä¼˜åŒ–å›¾ç‰‡ã€HTTP/2/3ã€ç¼“å­˜ç­–ç•¥**ï¼Œæå‡æ€§èƒ½ã€‚


4. **è¾¹ç¼˜è®¡ç®—ï¼ˆWorkersã€Pagesã€KV ç­‰ï¼‰**

   - æä¾› **Cloudflare Workers**ï¼šåœ¨è¾¹ç¼˜èŠ‚ç‚¹è¿è¡Œ JS/TS ä»£ç ï¼Œåƒå°å‹æ— æœåŠ¡å™¨å‡½æ•°ã€‚

   - **Pages**ï¼šæ”¯æŒéƒ¨ç½²é™æ€ç½‘ç«™ï¼ˆç±»ä¼¼ Netlify/Vercelï¼‰ã€‚

   - **R2 å­˜å‚¨**ï¼šå…¼å®¹ S3 çš„åˆ†å¸ƒå¼å¯¹è±¡å­˜å‚¨ã€‚

   - **KV / D1**ï¼šè¾¹ç¼˜æ•°æ®åº“ã€‚


5. **é›¶ä¿¡ä»»ä¸ç½‘ç»œæœåŠ¡**

   - **Cloudflare Access / Zero Trust**ï¼šé›¶ä¿¡ä»»å®‰å…¨æ¥å…¥ï¼ˆæ›¿ä»£ VPNï¼‰ã€‚

   - **Cloudflare Tunnel**ï¼šä¸ç”¨æš´éœ²ç«¯å£ï¼Œä¹Ÿèƒ½æŠŠå†…ç½‘åº”ç”¨å®‰å…¨åœ°å‘å¸ƒåˆ°å…¬ç½‘ã€‚

   - **DNS æœåŠ¡ï¼ˆ1.1.1.1ï¼‰**ï¼šå…¨çƒæœ€å¿«çš„å…¬å…± DNSï¼Œéšç§ä¿æŠ¤ã€‚

  ## åŸŸåæ³¨å†Œ

é¦–å…ˆæˆ‘ä»¬æ³¨å†Œè´¦å·ç™»å½•è¿›å…¥åå°ç‚¹å‡»åŸŸæ³¨å†Œ->æ³¨å†ŒåŸŸï¼š

![image-20250821104856379](https://image.hyly.net/i/2025/08/21/e3518273949a6eed735ad74bc19f8e70-0.webp)

ç”±äºcloudflareç»å¸¸æ”¹ç‰ˆï¼Œä½ å®é™…çœ‹çš„æ—¶å€™å¯èƒ½ä¸æ˜¯è¿™æ ·çš„ç•Œé¢ï¼Œä½†æ˜¯åŠŸèƒ½åå­—å·®ä¸å¤šï¼Œæ‘¸ç´¢ç€æ‰¾ä¸€ä¸‹å°±å¯ä»¥ã€‚æœç´¢åˆ°è‡ªå·±å¿ƒä»ªçš„åŸŸåç„¶åç‚¹å‡»æ³¨å†Œï¼Œåˆ°æ³¨å†Œä¿¡æ¯å¡«å†™é¡µé¢ï¼Œä»˜æ¬¾æ–¹å¼è¿™é‡Œå¯ä»¥é€‰Visaæˆ–é“¶è”å¡ï¼Œå»ºè®®å‹¾é€‰å¯ç”¨è‡ªåŠ¨ç»­è®¢ï¼Œè¿™æ ·å°±ä¸è‡³äºæ²¡æœ‰åŠæ—¶ç»­è´¹ä¸¢å¤±ä½¿ç”¨å¾ˆä¹…çš„åŸŸåï¼Œåšå®¢æ›´æ¢åŸŸåæ˜¯å¾ˆéº»çƒ¦çš„ä¸€ä»¶äº‹ï¼Œç›¸å½“äºæ‰åŠç®¡è¡€ã€‚

å¦‚æœé“¶è¡Œå¡ä»˜æ¬¾ä¸æˆåŠŸï¼Œä¹Ÿå¯ä»¥é€‰æ‹©PayPalæ”¯ä»˜ï¼Œåœ¨PayPalé‡Œé¢æ·»åŠ é“¶è¡Œå¡ï¼Œç„¶åå†ç”¨PayPalæ”¯ä»˜ï¼Œä»˜æ¬¾è¿™é‡Œå½“æ—¶è‡ªå·±å¼„äº†å¥½ä¹…ï¼Œç›´æ¥é“¶è¡Œå¡æ”¯ä»˜ä¸è¡Œç”¨PayPalä¹Ÿä¸è¡Œï¼Œåæ¥ä½¿ç”¨PayPalæ›´æ¢ç»‘å®šäº†å¥½å‡ å¼ å¡æ‰å¯ä»¥äº†ï¼Œä¿¡ç”¨å¡å’Œå‚¨è“„å¡éƒ½å°è¯•äº†ã€‚å¤§å®¶åœ¨è¿™é‡Œæ²¡æœ‰ä»˜æ¬¾æˆåŠŸä¹Ÿå»ºè®®å¤šå¼ å¡å°è¯•ä¸€ä¸‹ã€‚

![image-20250821105124339](https://image.hyly.net/i/2025/08/21/5dff9c9b8e638cabbff32ed1c835d979-0.webp)

æ³¨å†Œå®Œæˆåå°±ä¼šåœ¨åŸŸæ³¨å†Œ->ç®¡ç†åŸŸè¿™é‡Œçœ‹åˆ°æ³¨å†ŒæˆåŠŸçš„åŸŸåï¼Œç‚¹å‡»ç®¡ç†å°±å¯ä»¥é’ˆå¯¹åŸŸååšIPæ˜ å°„ç­‰ã€‚

![image-20250821110634433](https://image.hyly.net/i/2025/08/21/7ee5c748a2f0e483ba24b74c3af0df5f-0.webp)

![image-20250821110742390](https://image.hyly.net/i/2025/08/21/fedffa93a26332071fdb98649be5137e-0.webp)